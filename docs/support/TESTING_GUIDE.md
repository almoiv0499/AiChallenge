# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —Å–µ—Ä–≤–∏—Å–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ API –∫–ª—é—á

**Windows (PowerShell):**
```powershell
$env:OPENROUTER_API_KEY = "your_api_key_here"
```

**Windows (CMD):**
```cmd
set OPENROUTER_API_KEY=your_api_key_here
```

**Linux/macOS:**
```bash
export OPENROUTER_API_KEY=your_api_key_here
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å

```bash
./gradlew runSupportService
```

---

## –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
üéß –°–ï–†–í–ò–° –ü–û–î–î–ï–†–ñ–ö–ò - –î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üîß –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤...
üìö –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏...   # (–ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ)
  üìÑ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: FAQ.md
  üìÑ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è: TROUBLESHOOTING.md
‚úÖ –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

ü§ñ Support Assistant –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω
   üìö RAG: ‚úÖ 2 –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
   üë• CRM: 4 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, 6 —Ç–∏–∫–µ—Ç–æ–≤
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:**
- RAG –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–º–∏–Ω–∏–º—É–º 2)
- CRM –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ —Ç–∏–∫–µ—Ç—ã

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 2: RAG - –ø–æ–∏—Å–∫ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç –¥–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–∏. –í –æ—Ç–≤–µ—Ç–∞—Ö –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

**–°—Ü–µ–Ω–∞—Ä–∏–π 1** (–≤–æ–ø—Ä–æ—Å –ø—Ä–æ 2FA):
- –û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω–æ–π –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –£–∫–∞–∑–∞–Ω—ã –∏—Å—Ç–æ—á–Ω–∏–∫–∏ (`üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏: docs/support/FAQ.md`)

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞—Ö–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ FAQ.md –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 3: CRM - –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–°—Ü–µ–Ω–∞—Ä–∏–π 2** (–≤–æ–ø—Ä–æ—Å –æ—Ç user_001):
- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –∑–Ω–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤)
- –£–ø–æ–º–∏–Ω–∞–µ—Ç –µ–≥–æ —Ç–∞—Ä–∏—Ñ–Ω—ã–π –ø–ª–∞–Ω (Pro)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç –µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –û—Ç–≤–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 4: –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∏–∫–µ—Ç–∞

**–°—Ü–µ–Ω–∞—Ä–∏–π 3** (—Ç–∏–∫–µ—Ç TKT-001):
- –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø–æ–Ω–∏–º–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É (OAuth –æ—à–∏–±–∫–∞)
- –£—á–∏—Ç—ã–≤–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ (browser: Chrome 120, error_code: OAUTH_INVALID_TOKEN)
- –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —à–∞–≥–∏ —Ä–µ—à–µ–Ω–∏—è

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:** –û—Ç–≤–µ—Ç —É—á–∏—Ç—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ç–∏–∫–µ—Ç–∞ –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

---

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ 5: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º

–ü–æ—Å–ª–µ –¥–µ–º–æ-—Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –ø–æ—è–≤–∏—Ç—Å—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

| –ö–æ–º–∞–Ω–¥–∞ | –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç |
|---------|---------------------|
| `stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–∫–µ—Ç–∞–º (6 —Ç–∏–∫–µ—Ç–æ–≤, —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º) |
| `user ivan@example.com` | "–ö–æ–Ω—Ç–µ–∫—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤", –ø–æ–∫–∞–∑–∞–Ω—ã –∞–∫—Ç–∏–≤–Ω—ã–µ —Ç–∏–∫–µ—Ç—ã |
| `user anna@example.com` | "–ö–æ–Ω—Ç–µ–∫—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –ê–Ω–Ω–∞ –°–∏–¥–æ—Ä–æ–≤–∞" (Enterprise) |
| `ticket TKT-002` | –û—Ç–≤–µ—Ç –Ω–∞ —Ç–∏–∫–µ—Ç –ø—Ä–æ –æ–ø–ª–∞—Ç—É |
| `–ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å?` | –û—Ç–≤–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ FAQ |
| `exit` | –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã |

---

## –¢–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∑–∞–¥–∞—Ç—å —ç—Ç–∏ –≤–æ–ø—Ä–æ—Å—ã –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ:

### –ë–µ–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
‚ùì > –ö–∞–∫ —Å–±—Ä–æ—Å–∏—Ç—å –ø–∞—Ä–æ–ª—å?
‚ùì > –ü–æ—á–µ–º—É –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –æ–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–æ–π?
‚ùì > –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–ª–µ—Ç–∞–µ—Ç –Ω–∞ Android
```

### –° –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
```
‚ùì > user ivan@example.com
‚úÖ –ö–æ–Ω—Ç–µ–∫—Å—Ç —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤

‚ùì > –ü–æ—á–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è?
# –û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å —Ç–∏–∫–µ—Ç TKT-001 –ø—Ä–æ OAuth –æ—à–∏–±–∫—É
```

### –†–∞–±–æ—Ç–∞ —Å —Ç–∏–∫–µ—Ç–æ–º:
```
‚ùì > ticket TKT-003
# –û—Ç–≤–µ—Ç –Ω–∞ —Ç–∏–∫–µ—Ç –ø—Ä–æ –∫—Ä–∞—à –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–∞ Android
```

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –ö—Ä–∏—Ç–µ—Ä–∏–π | –°—Ç–∞—Ç—É—Å |
|-----------|----------|--------|
| **RAG** | –ù–∞—Ö–æ–¥–∏—Ç —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é | ‚¨ú |
| **RAG** | –£–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ –æ—Ç–≤–µ—Ç–µ | ‚¨ú |
| **CRM** | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (4 —à—Ç) | ‚¨ú |
| **CRM** | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–∏–∫–µ—Ç—ã (6 —à—Ç) | ‚¨ú |
| **CRM** | –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ email | ‚¨ú |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –æ—Ç–≤–µ—Ç—ã | ‚¨ú |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | –£—á–∏—Ç—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–∏–∫–µ—Ç–∞ | ‚¨ú |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ | ‚¨ú |

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞: "OPENROUTER_API_KEY –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω"
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å –≤–∞—à–∏–º API –∫–ª—é—á–æ–º.

### –û—à–∏–±–∫–∞: "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞"
**–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã `FAQ.md` –∏ `TROUBLESHOOTING.md` –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `docs/support/`.

### –ü—É—Å—Ç—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç RAG
**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª `support_docs_index.db` –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å –¥–ª—è –ø–µ—Ä–µ–∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏.

### –û—à–∏–±–∫–∞ API
**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –∏ –ª–∏–º–∏—Ç—ã –Ω–∞ OpenRouter.

---

## –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

```
src/main/kotlin/org/example/support/
‚îú‚îÄ‚îÄ CrmModels.kt        # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (User, Ticket)
‚îú‚îÄ‚îÄ CrmStorage.kt       # JSON —Ö—Ä–∞–Ω–∏–ª–∏—â–µ + –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ CrmMcpServer.kt     # MCP —Å–µ—Ä–≤–µ—Ä –¥–ª—è CRM
‚îú‚îÄ‚îÄ SupportAssistant.kt # –ì–ª–∞–≤–Ω—ã–π –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç (RAG + CRM)
‚îî‚îÄ‚îÄ SupportMain.kt      # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞

docs/support/
‚îú‚îÄ‚îÄ FAQ.md              # FAQ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ TROUBLESHOOTING.md  # –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ—à–∏–±–∫–∞–º
‚îî‚îÄ‚îÄ TESTING_GUIDE.md    # –≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ
```

---

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
- –§–∞–π–ª `support_docs_index.db` –∫—ç—à–∏—Ä—É–µ—Ç –∏–Ω–¥–µ–∫—Å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –§–∞–π–ª `support_crm_data.json` —Å–æ–¥–µ—Ä–∂–∏—Ç CRM –¥–∞–Ω–Ω—ã–µ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
