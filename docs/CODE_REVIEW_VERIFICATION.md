# ๐งช ะะตัะธัะธะบะฐัะธั AI Code Review Pipeline

ะญัะพั ะดะพะบัะผะตะฝั ะพะฟะธััะฒะฐะตั ะฟะพัะฐะณะพะฒัะน ะฟะปะฐะฝ ะฟัะพะฒะตัะบะธ ะบะพััะตะบัะฝะพััะธ ัะฐะฑะพัั ะฒัะตั ะบะพะผะฟะพะฝะตะฝัะพะฒ AI Code Review Pipeline.

## ะัััััะน ััะฐัั

```powershell
# 1. ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะฐัะธะธ (ะพะฑัะทะฐัะตะปัะฝะพ ะฟะตัะตะด ะฟะตัะฒัะผ ะทะฐะฟััะบะพะผ)
./gradlew runIndexDocs

# 2. ะขะตัั RAG ะฟะพะธัะบะฐ
./gradlew runSearchTest

# 3. ะขะตัั MCP Git Server
./gradlew runGitMcpTest

# 4. ะะพะปะฝัะน ัะตัั pipeline
./gradlew runCodeReviewTest
```

---

## ะะตัะฐะปัะฝัะน ะฟะปะฐะฝ ะฒะตัะธัะธะบะฐัะธะธ

### ะญัะฐะฟ 1: ะัะพะฒะตัะบะฐ ะพะบััะถะตะฝะธั

| ะัะพะฒะตัะบะฐ | ะะพะผะฐะฝะดะฐ | ะะถะธะดะฐะตะผัะน ัะตะทัะปััะฐั |
|----------|---------|---------------------|
| JDK ะฒะตััะธั | `java -version` | Java 17+ |
| Gradle | `./gradlew --version` | Gradle 8.x |
| Git | `git --version` | Git 2.x+ |
| API ะบะปัั | ะฟัะพะฒะตัะธัั `local.properties` | `OPENROUTER_API_KEY=sk-or-...` |

### ะญัะฐะฟ 2: RAG ัะธััะตะผะฐ

#### 2.1 ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะฐัะธะธ

```powershell
./gradlew runIndexDocs
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
๐ ะะฝะดะตะบัะฐัะธั ะดะพะบัะผะตะฝัะพะฒ ะฟัะพะตะบัะฐ...
โ docs/DEVELOPER_GUIDE.md: 15 ัะฐะฝะบะพะฒ
โ docs/STYLE_GUIDE.md: 8 ัะฐะฝะบะพะฒ
โ README.md: 5 ัะฐะฝะบะพะฒ
...
๐ ะะฝะดะตะบัะฐัะธั ะทะฐะฒะตััะตะฝะฐ: X ะดะพะบัะผะตะฝัะพะฒ, Y ัะฐะฝะบะพะฒ
```

**ะัะพะฒะตัะบะฐ:**
- ะคะฐะนะป `document_index.db` ัะพะทะดะฐะฝ/ะพะฑะฝะพะฒะปัะฝ
- ะะฐะทะผะตั ัะฐะนะปะฐ > 100KB

#### 2.2 ะขะตััะธัะพะฒะฐะฝะธะต ะฟะพะธัะบะฐ

```powershell
./gradlew runSearchTest
```

**ะัะธัะตัะธะธ ััะฟะตัะฐ:**
- โ ะัะต ะทะฐะฟัะพัั ะฒะพะทะฒัะฐัะฐัั ัะตะทัะปััะฐัั ั similarity > 0.5
- โ ะะตะทัะปััะฐัั ัะตะปะตะฒะฐะฝัะฝั ะทะฐะฟัะพัั
- โ ะะตั ะพัะธะฑะพะบ API

### ะญัะฐะฟ 3: MCP Git Server

```powershell
./gradlew runGitMcpTest
```

**ะะถะธะดะฐะตะผัะน ะฒัะฒะพะด:**
```
๐งช ะขะตััะธัะพะฒะฐะฝะธะต GitMcpServer ะดะปั Code Review Pipeline

๐ ะขะตัั 1: MCP Initialize
   โ Initialize: PASS

๐ ะขะตัั 2: List Tools
   ะะฐะนะดะตะฝะพ ะธะฝััััะผะตะฝัะพะฒ: 5
   - get_current_branch
   - get_git_status
   - get_open_files
   - get_ide_open_files
   - get_recent_commits
   โ List Tools: PASS

๐ ะขะตัั 3: Get Current Branch
   ะขะตะบััะฐั ะฒะตัะบะฐ: master
   โ Get Branch: PASS

๐ ะขะตัั 4: Get Git Status
   โ Git Status: PASS

๐ ะขะตัั 5: Get Recent Commits
   โ Recent Commits: PASS

๐ MCP Git Server ะณะพัะพะฒ ะดะปั Code Review Pipeline!
```

### ะญัะฐะฟ 4: ะะพะปะฝัะน Pipeline

```powershell
./gradlew runCodeReviewTest
```

**ะัะธัะตัะธะธ ััะฟะตัะฐ:**

| ะะพะผะฟะพะฝะตะฝั | ะัะพะฒะตัะบะฐ | ะัะธัะตัะธะน |
|-----------|----------|----------|
| Git ะดะฐะฝะฝัะต | ะะพะปััะตะฝะธะต diff | ะคะฐะนะปั ะฝะฐะนะดะตะฝั |
| RAG ะธะฝะดะตะบั | ะะฐะปะธัะธะต ะดะพะบัะผะตะฝัะพะฒ | > 0 ะดะพะบัะผะตะฝัะพะฒ |
| RAG ะฟะพะธัะบ | ะะตะทัะปััะฐัั ะฟะพะธัะบะฐ | > 0 ัะตะทัะปััะฐัะพะฒ |
| Prompt | ะคะพัะผะธัะพะฒะฐะฝะธะต | < 200K ัะพะบะตะฝะพะฒ |
| API | Connectivity | HTTP 200 |

---

## ะััะฝะฐั ะฒะตัะธัะธะบะฐัะธั

### ะัะพะฒะตัะบะฐ Git ะบะพะผะฐะฝะด

```powershell
# ะัะพะฒะตัะบะฐ diff ะผะตะถะดั ะบะพะผะผะธัะฐะผะธ
git diff HEAD~1 --stat

# ะัะพะฒะตัะบะฐ ะธะทะผะตะฝะตะฝะฝัั ัะฐะนะปะพะฒ
git diff HEAD~1 --name-only

# ะัะพะฒะตัะบะฐ ััะฐัััะฐ
git status --short
```

### ะัะพะฒะตัะบะฐ RAG ะธะฝะดะตะบัะฐ

```powershell
# ะัะพะฒะตัะบะฐ ัััะตััะฒะพะฒะฐะฝะธั ะฑะฐะทั
dir document_index.db

# ะัะพะฒะตัะบะฐ ัะฐะทะผะตัะฐ (ะดะพะปะถะตะฝ ะฑััั > 100KB ะฟะพัะปะต ะธะฝะดะตะบัะฐัะธะธ)
```

### ะัะพะฒะตัะบะฐ API ะบะปััะฐ

```powershell
# ะัะพะฒะตัะบะฐ ะฝะฐะปะธัะธั ะบะปััะฐ ะฒ local.properties
type local.properties | findstr OPENROUTER_API_KEY

# ะขะตัั API (PowerShell)
$headers = @{ "Authorization" = "Bearer YOUR_API_KEY" }
Invoke-RestMethod -Uri "https://openrouter.ai/api/v1/models" -Headers $headers
```

---

## Troubleshooting

### ะัะพะฑะปะตะผะฐ: RAG ะธะฝะดะตะบั ะฟััั

```powershell
# ะะตัะตะฝะธะต: ะทะฐะฟัััะธัั ะธะฝะดะตะบัะฐัะธั
./gradlew runIndexDocs
```

### ะัะพะฑะปะตะผะฐ: API ะบะปัั ะฝะต ะฝะฐะนะดะตะฝ

```powershell
# ะะตัะตะฝะธะต: ะดะพะฑะฐะฒะธัั ะฒ local.properties
echo "OPENROUTER_API_KEY=sk-or-v1-ะฒะฐั_ะบะปัั" >> local.properties
```

### ะัะพะฑะปะตะผะฐ: Git ะบะพะผะฐะฝะดั ะฝะต ัะฐะฑะพัะฐัั

```powershell
# ะัะพะฒะตัะธัั, ััะพ ะผั ะฒ Git ัะตะฟะพะทะธัะพัะธะธ
git status

# ะัะปะธ ะฝะต ัะตะฟะพะทะธัะพัะธะน
git init
```

### ะัะพะฑะปะตะผะฐ: MCP ัะตัะฒะตั ะฝะต ะทะฐะฟััะบะฐะตััั

```powershell
# ะัะพะฒะตัะธัั, ััะพ ะฟะพัั 8083 ัะฒะพะฑะพะดะตะฝ
netstat -ano | findstr 8083

# ะัะปะธ ะทะฐะฝัั, ัะฑะธัั ะฟัะพัะตัั ะธะปะธ ะธะทะผะตะฝะธัั ะฟะพัั
```

---

## ะงะตะบะปะธัั ะณะพัะพะฒะฝะพััะธ

### ะะฑัะทะฐัะตะปัะฝัะต ะบะพะผะฟะพะฝะตะฝัั

- [ ] `./gradlew runIndexDocs` ะฒัะฟะพะปะฝะตะฝ ััะฟะตัะฝะพ
- [ ] `./gradlew runSearchTest` โ ะฒัะต ะทะฐะฟัะพัั ั ัะตะทัะปััะฐัะฐะผะธ
- [ ] `./gradlew runGitMcpTest` โ ะฒัะต 5 ัะตััะพะฒ PASS
- [ ] `./gradlew runCodeReviewTest` โ ะฒัะต ััะฐะฟั PASS

### ะะตัะตะด CI ะธะฝัะตะณัะฐัะธะตะน

- [ ] `OPENROUTER_API_KEY` ะดะพะฑะฐะฒะปะตะฝ ะฒ GitHub Secrets
- [ ] GitHub Actions workflow ัะพะทะดะฐะฝ
- [ ] ะขะตััะพะฒัะน PR ัะพะทะดะฐะฝ ะธ ะฟัะพะฒะตัะตะฝ

### ะะฟัะธะพะฝะฐะปัะฝะพ

- [ ] Style guide ะฒ `docs/STYLE_GUIDE.md` ะฐะบััะฐะปะตะฝ
- [ ] ะััะธัะตะบัััะฝัะต ะดะพะบัะผะตะฝัั ะฟัะพะธะฝะดะตะบัะธัะพะฒะฐะฝั
- [ ] Rate limiting ะฝะฐัััะพะตะฝ

---

## ะะตััะธะบะธ ััะฟะตัะฐ

ะะพัะปะต ััะฟะตัะฝะพะน ะฒะตัะธัะธะบะฐัะธะธ ะฒั ะดะพะปะถะฝั ะฒะธะดะตัั:

```
๐ ะะขะะะะะซะ ะะขะงะะข: Code Review Pipeline Verification
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ PASS  Git data: ะะพะปััะตะฝะพ X ัะฐะนะปะพะฒ
   โ PASS  Rag index: Y ัะฐะฝะบะพะฒ ะฒ Z ะดะพะบัะผะตะฝัะฐั
   โ PASS  Rag search: 3/3 ะทะฐะฟัะพัะพะฒ ััะฟะตัะฝั
   โ PASS  Prompt build: ~500 ัะพะบะตะฝะพะฒ
   โ PASS  Api connectivity: API ะดะพัััะฟะตะฝ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   ะะตะทัะปััะฐั: 5/5 ัะตััะพะฒ ะฟัะพะนะดะตะฝะพ

๐ Pipeline ะณะพัะพะฒ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!
```

---

## ะกะปะตะดัััะธะต ัะฐะณะธ ะฟะพัะปะต ะฒะตัะธัะธะบะฐัะธะธ

1. **ะกะพะทะดะฐัั GitHub Actions workflow** โ ัะผ. `docs/AI_CODE_REVIEW_BLUEPRINT.md`
2. **ะะฐัััะพะธัั secrets** โ `OPENROUTER_API_KEY` ะฒ ัะตะฟะพะทะธัะพัะธะธ
3. **ะกะพะทะดะฐัั ัะตััะพะฒัะน PR** โ ะฟัะพะฒะตัะธัั end-to-end
4. **ะะฐัััะพะธัั ะผะพะฝะธัะพัะธะฝะณ** โ ะปะพะณะธ, ะผะตััะธะบะธ, ะฐะปะตััั
